# Требования к серверам: небольшие vs крупные проекты (с обоснованием)

Ниже — разбор не только «железа», но и контекста (SLA, процессы, экономика эксплуатации).

## 1) Небольшие проекты
**Примеры:** лендинг клиники, сайт-визитка врача, блог о здоровье, MVP-прототип стартапа.

### 1.1 Бизнес‑контекст и цели
- **Бюджет:** сильно ограничен (условно 300–2 000 ₽/мес для хостинга/минимального VPS).
- **Критичность простоя:** низкая; простой несколько часов обычно не приводит к катастрофе.
- **Нагрузка:** невысокая и часто предсказуемая (десятки/сотни посетителей в день).
- **Команда:** часто 1 человек (разработчик/«айтишник»), без выделенного DevOps.

### 1.2 Технические и организационные требования
**Формат услуги**
- **Предпочтительно:** shared hosting + панель управления (cPanel/ISPmanager) для CMS.
  - **Почему:** провайдер берёт на себя обновления, базовую безопасность, часто бэкапы; минимальные трудозатраты.
- **Альтернатива:** базовый VPS.
  - **Почему:** нужен, если стек нестандартный (Node/Python), требуется конфигурация или планируется рост.

**Ресурсы (для VPS-варианта)**
- **CPU:** 1–2 vCPU.
- **RAM:** 2 ГБ минимум, 4 ГБ комфорт.
- **Диск:** SSD 20–50 ГБ.
- **Трафик:** 1–5 ТБ/мес или «безлимит» на 100 Мбит/с.

**ПО и безопасность (минимум)**
- ОС: Ubuntu LTS (или аналог).
- Веб‑сервер: Nginx/Apache.
- Фаервол: ufw.
- Авто‑обновления безопасности.
- **TLS/HTTPS обязательно** (Let’s Encrypt).

**Бэкапы**
- Еженедельно (или ежедневно для динамики): дамп БД + файлы.
- Хранить **вне** сервера (S3/объектное/другой провайдер).
  - **Почему:** сервер — единая точка отказа; внешний бэкап — самый дешёвый способ восстановиться.

**Мониторинг**
- Достаточно внешнего аптайм‑чека (UptimeRobot) + ручной анализ при проблемах.

**SLA**
- Часто 99%–99.5% (допустимы часы простоя в месяц).

### 1.3 Обоснование
Главный критерий — **минимальный TCO (total cost of ownership)**: важна не только абонплата, но и трудозатраты на администрирование. Сложные HA‑кластеры тут экономически не оправданы, а риск аппаратного сбоя компенсируется бэкапами и простотой восстановления.

---

## 2) Крупные проекты
**Примеры:** МИС, телемедицина, федеральные реестры, аналитические платформы.

### 2.1 Бизнес‑контекст и цели
- **Бюджет:** десятки/сотни тыс. ₽/мес и выше — как инвестиция в стабильность и безопасность.
- **Критичность простоя:** высокая/крайне высокая (минуты простоя = срыв приёмов, потери, репутационный ущерб).
- **Нагрузка:** высокая, пиковая, непредсказуемая; много одновременных пользователей.
- **Команда:** выделенные DevOps/SRE + DBA.

### 2.2 Технические и организационные требования
**Формат услуги**
- **Предпочтительно:** облако (Yandex Cloud/Selectel/AWS/GCP) + контейнеризация/оркестрация (часто Kubernetes).
  - **Почему:** масштабирование, самовосстановление, быстрые релизы, независимое масштабирование компонентов.
- **Дополнение:** bare metal для тяжёлых БД/аналитики при необходимости строгой производительности.

**High Availability (HA) — без SPOF**
- Размещение минимум в 2 зонах доступности.
- Балансировщик нагрузки.
- БД с репликацией и автоматическим фейловером (например, Patroni для PostgreSQL).
- Кэш (Redis Sentinel/Cluster).

**Ресурсы (типовой подход)**
- App‑слой: несколько VM/нод (например, 4–8 vCPU, 16–32 GB RAM каждая) + автоскейлинг.
- БД‑слой: отдельные мощные инстансы/серверы (24+ CPU, 128+ GB RAM, NVMe/RAID) — по нагрузке.
- Хранилище: блочное (для БД) + объектное (документы/изображения/архивы/бэкапы).

**Безопасность (security-by-design)**
- Сегментация сети (публичная/приватная, DMZ).
- WAF + DDoS‑защита.
- Шифрование: TLS «в пути» и шифрование «на диске» (KMS).
- Доступ: VPN/bastion, принцип наименьших привилегий, 2FA.
- Комплаенс: процессы под 152‑ФЗ и внутренние регламенты (аудиты, пентесты).

**DevOps / процессы**
- IaC (Terraform/Ansible).
- CI/CD (канареечные/blue‑green деплои).
- Наблюдаемость: метрики (Prometheus/Grafana), логи (Loki/ELK), алерты (Alertmanager), SLO/SLA.

**SLA**
- 99.95%–99.99% (минуты простоя в год) — достигается только избыточностью + автоматизацией.

### 2.3 Обоснование
Для крупных систем стоимость простоя и риски безопасности настолько велики, что инвестиции в избыточную инфраструктуру оправданы. Фокус смещается с «администрирования сервера» на управление распределённой системой: автоматизация, наблюдаемость, превентивные алерты и контролируемые релизы.
